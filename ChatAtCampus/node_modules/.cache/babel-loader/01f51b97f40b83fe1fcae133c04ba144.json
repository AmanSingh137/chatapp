{"ast":null,"code":"var _jsxFileName = \"C:\\\\ReactJS\\\\dummy_project_react\\\\ChatAtCampus\\\\src\\\\components\\\\Chat.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { auth, db } from \"../firebase\";\nimport SendMessage from \"./SendMessage\"; // import NavBar from \"./NavBar\";\n\nimport styled from \"styled-components\"; // import SignOut from \"./SignOut\";\n//import \"./Chat.css\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Chat = () => {\n  _s();\n\n  const scroll = useRef();\n  const [messages, setMessages] = useState([]);\n  useEffect(() => {\n    db.collection(\"messages\").orderBy(\"createdAt\").limit(25).onSnapshot(snapshot => {\n      setMessages(snapshot.docs.map(doc => doc.data()));\n    });\n  }, []);\n  console.log(messages);\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"texts\",\n        children: [messages.map(_ref => {\n          let {\n            id,\n            text,\n            photoURL,\n            uid\n          } = _ref;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `message ${uid === auth.currentUser.uid ? \"sent\" : \"received\"}`,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: photoURL\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 39,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 40,\n                columnNumber: 19\n              }, this)]\n            }, id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 33,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 15\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: scroll\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SendMessage, {\n        scroll: scroll\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Chat, \"d4n40Xeki2jC+AmHzb+Jc8p+nwU=\");\n\n_c = Chat;\nexport default Chat;\nconst Wrapper = styled.div`\n  margin: 0 auto;\n  background-color: #748da6;\n  /* width: 80%; */\n  height: 85%;\n\n  .navbar {\n    height: 15%;\n  }\n  .container {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    /* overflow-y: scroll; */\n    padding: 10px;\n    height: 100%;\n    //margin: 10vh 0 10vh;\n\n    .texts {\n      display: flex;\n      flex-direction: column;\n      overflow-y: scroll;\n      overflow-x: hidden;\n      height: 90%;\n\n      .message {\n        display: flex;\n        align-items: center;\n        img {\n          border-radius: 50%;\n          height: 40px;\n          width: 40px;\n          margin: 2px, 5px;\n        }\n\n        p {\n          font-family: cursive;\n          max-width: 500px;\n          margin-left: 5px;\n          margin-bottom: 12px;\n          /* line-height: 24px; */\n          padding: 10px 20px;\n          position: relative;\n          background: white;\n          border-radius: 10px;\n        }\n      }\n      .sent {\n        flex-direction: row-reverse;\n      }\n\n      .sent p {\n        margin-right: 5px;\n        /* color: white; */\n        background: #ef9f9f;\n        align-self: flex-end;\n      }\n      .received p {\n        background: #e5e5ea;\n        color: black;\n      }\n    }\n  }\n`;\n_c2 = Wrapper;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Chat\");\n$RefreshReg$(_c2, \"Wrapper\");","map":{"version":3,"names":["React","useState","useEffect","useRef","auth","db","SendMessage","styled","Chat","scroll","messages","setMessages","collection","orderBy","limit","onSnapshot","snapshot","docs","map","doc","data","console","log","id","text","photoURL","uid","currentUser","Wrapper","div"],"sources":["C:/ReactJS/dummy_project_react/ChatAtCampus/src/components/Chat.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport { auth, db } from \"../firebase\";\r\nimport SendMessage from \"./SendMessage\";\r\n// import NavBar from \"./NavBar\";\r\nimport styled from \"styled-components\";\r\n// import SignOut from \"./SignOut\";\r\n//import \"./Chat.css\";\r\n\r\nconst Chat = () => {\r\n  const scroll = useRef();\r\n\r\n  const [messages, setMessages] = useState([]);\r\n  useEffect(() => {\r\n    db.collection(\"messages\")\r\n      .orderBy(\"createdAt\")\r\n      .limit(25)\r\n      .onSnapshot((snapshot) => {\r\n        setMessages(snapshot.docs.map((doc) => doc.data()));\r\n      });\r\n  }, []);\r\n  console.log(messages);\r\n  return (\r\n    <Wrapper>\r\n      {/* <div className=\"navbar\">\r\n        <NavBar />\r\n      </div> */}\r\n\r\n      <div className=\"container\">\r\n        <div className=\"texts\">\r\n          {messages.map(({ id, text, photoURL, uid }) => {\r\n            return (\r\n              <div>\r\n                <div\r\n                  key={id}\r\n                  className={`message ${\r\n                    uid === auth.currentUser.uid ? \"sent\" : \"received\"\r\n                  }`}\r\n                >\r\n                  <img src={photoURL} />\r\n                  <p>{text}</p>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n          <div ref={scroll}></div>\r\n        </div>\r\n        <SendMessage scroll={scroll} />\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n\r\nconst Wrapper = styled.div`\r\n  margin: 0 auto;\r\n  background-color: #748da6;\r\n  /* width: 80%; */\r\n  height: 85%;\r\n\r\n  .navbar {\r\n    height: 15%;\r\n  }\r\n  .container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n    /* overflow-y: scroll; */\r\n    padding: 10px;\r\n    height: 100%;\r\n    //margin: 10vh 0 10vh;\r\n\r\n    .texts {\r\n      display: flex;\r\n      flex-direction: column;\r\n      overflow-y: scroll;\r\n      overflow-x: hidden;\r\n      height: 90%;\r\n\r\n      .message {\r\n        display: flex;\r\n        align-items: center;\r\n        img {\r\n          border-radius: 50%;\r\n          height: 40px;\r\n          width: 40px;\r\n          margin: 2px, 5px;\r\n        }\r\n\r\n        p {\r\n          font-family: cursive;\r\n          max-width: 500px;\r\n          margin-left: 5px;\r\n          margin-bottom: 12px;\r\n          /* line-height: 24px; */\r\n          padding: 10px 20px;\r\n          position: relative;\r\n          background: white;\r\n          border-radius: 10px;\r\n        }\r\n      }\r\n      .sent {\r\n        flex-direction: row-reverse;\r\n      }\r\n\r\n      .sent p {\r\n        margin-right: 5px;\r\n        /* color: white; */\r\n        background: #ef9f9f;\r\n        align-self: flex-end;\r\n      }\r\n      .received p {\r\n        background: #e5e5ea;\r\n        color: black;\r\n      }\r\n    }\r\n  }\r\n`;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,SAASC,IAAT,EAAeC,EAAf,QAAyB,aAAzB;AACA,OAAOC,WAAP,MAAwB,eAAxB,C,CACA;;AACA,OAAOC,MAAP,MAAmB,mBAAnB,C,CACA;AACA;;;;AAEA,MAAMC,IAAI,GAAG,MAAM;EAAA;;EACjB,MAAMC,MAAM,GAAGN,MAAM,EAArB;EAEA,MAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAAC,EAAD,CAAxC;EACAC,SAAS,CAAC,MAAM;IACdG,EAAE,CAACO,UAAH,CAAc,UAAd,EACGC,OADH,CACW,WADX,EAEGC,KAFH,CAES,EAFT,EAGGC,UAHH,CAGeC,QAAD,IAAc;MACxBL,WAAW,CAACK,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAmBC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAA3B,CAAD,CAAX;IACD,CALH;EAMD,CAPQ,EAON,EAPM,CAAT;EAQAC,OAAO,CAACC,GAAR,CAAYZ,QAAZ;EACA,oBACE,QAAC,OAAD;IAAA,uBAKE;MAAK,SAAS,EAAC,WAAf;MAAA,wBACE;QAAK,SAAS,EAAC,OAAf;QAAA,WACGA,QAAQ,CAACQ,GAAT,CAAa,QAAiC;UAAA,IAAhC;YAAEK,EAAF;YAAMC,IAAN;YAAYC,QAAZ;YAAsBC;UAAtB,CAAgC;UAC7C,oBACE;YAAA,uBACE;cAEE,SAAS,EAAG,WACVA,GAAG,KAAKtB,IAAI,CAACuB,WAAL,CAAiBD,GAAzB,GAA+B,MAA/B,GAAwC,UACzC,EAJH;cAAA,wBAME;gBAAK,GAAG,EAAED;cAAV;gBAAA;gBAAA;gBAAA;cAAA,QANF,eAOE;gBAAA,UAAID;cAAJ;gBAAA;gBAAA;gBAAA;cAAA,QAPF;YAAA,GACOD,EADP;cAAA;cAAA;cAAA;YAAA;UADF;YAAA;YAAA;YAAA;UAAA,QADF;QAaD,CAdA,CADH,eAgBE;UAAK,GAAG,EAAEd;QAAV;UAAA;UAAA;UAAA;QAAA,QAhBF;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAmBE,QAAC,WAAD;QAAa,MAAM,EAAEA;MAArB;QAAA;QAAA;QAAA;MAAA,QAnBF;IAAA;MAAA;MAAA;MAAA;IAAA;EALF;IAAA;IAAA;IAAA;EAAA,QADF;AA6BD,CA1CD;;GAAMD,I;;KAAAA,I;AA4CN,eAAeA,IAAf;AAEA,MAAMoB,OAAO,GAAGrB,MAAM,CAACsB,GAAI;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CA/DA;MAAMD,O"},"metadata":{},"sourceType":"module"}